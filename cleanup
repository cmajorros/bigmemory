####################################################################
# configure.win for package bigmemory
# John W. Emerson and Michael Kane
#
# Sadly, we haven't been able to figure out shared memory under
# windows.  This makes it necessary to do this rather awkward
# stripped-down version of bigmemory.  For the most part, we simply
# move certain files out of the package.  We have a few #ifndef
# directives in the .h files.  We need an abbreviated NAMESPACE
# file, and we use a somewhat sloppy OS flag to help out.

if [ -f SHM/bigmatrixShm.R ];
then
  mv SHM/bigmatrixShm.R R/
  mv R/nonshared.R SHM/
  mv SHM/BMMutex* src/
  mv SHM/CUserMutex* src/
  mv SHM/DestroyShmIfLast* src/
  mv SHM/Makevars src/
  mv SHM/shared* man/
  mv SHM/rw.mutex*.Rd man/
  cp namespace.unix NAMESPACE
  cp unixdef.h src/ostypedef.h
fi
